<!DOCTYPE html>
<html>
    {% load static %}
    <head>
        <title>Spotster</title>
        <link rel="icon" href="{% static 'img/icon.png' %}">
    </head>
    <link rel="stylesheet" href="{% static 'css/newsfeed.css' %}">
    <body onload="loader_feed()">
        <div class="homepage">
            <!-- header import -->
            {% include 'header.html' %}
            
            <!-- 3 divs -->
            <div class="container_newsfeed not-loaded" id="div-loaded">

                <!-- 1st div -->
                <div class="container1">
                    {% include '1_container.html' %}
                </div>

                <!-- 2nd div -->
                <div class="container2">
                    <!-- interest-story -->
                    <div class="i-story">
                        <div class="story">
                            <figure>
                                <img src="{% static 'interest/cycle.png' %}">
                                <img src="{% static 'interest/football.png' %}">
                                <img src="{% static 'interest/swim.png' %}">
                                <img src="{% static 'interest/dance.png' %}">
                                <img src="{% static 'interest/hiking.png' %}">
                                <img src="{% static 'interest/art.png' %}">
                                <img src="{% static 'interest/writing.png' %}">
                                <img src="{% static 'interest/singing.png' %}">
                                <img src="{% static 'interest/riding.png' %}">
                                <img src="{% static 'interest/reading.png' %}">
                                <img src="{% static 'interest/gaming.png' %}">
                                <img src="{% static 'interest/cycle.png' %}">
                                <img src="{% static 'interest/football.png' %}">
                                <img src="{% static 'interest/swim.png' %}">
                                <img src="{% static 'interest/dance.png' %}">
                                <img src="{% static 'interest/hiking.png' %}">
                                <img src="{% static 'interest/art.png' %}">
                                <img src="{% static 'interest/writing.png' %}">
                                <img src="{% static 'interest/singing.png' %}">
                                <img src="{% static 'interest/riding.png' %}">
                                <img src="{% static 'interest/reading.png' %}">
                                <img src="{% static 'interest/gaming.png' %}">
                                <img src="{% static 'interest/cycle.png' %}">
                                <img src="{% static 'interest/football.png' %}">
                                <img src="{% static 'interest/swim.png' %}">
                                <img src="{% static 'interest/dance.png' %}">
                                <img src="{% static 'interest/hiking.png' %}">
                                <img src="{% static 'interest/art.png' %}">
                                <img src="{% static 'interest/writing.png' %}">
                                <img src="{% static 'interest/singing.png' %}">
                                <img src="{% static 'interest/riding.png' %}">
                                <img src="{% static 'interest/reading.png' %}">
                                <img src="{% static 'interest/gaming.png' %}">
                                <img src="{% static 'interest/cycle.png' %}">
                                <img src="{% static 'interest/football.png' %}">
                                <img src="{% static 'interest/swim.png' %}">
                                <img src="{% static 'interest/dance.png' %}">
                                <img src="{% static 'interest/hiking.png' %}">
                                <img src="{% static 'interest/art.png' %}">
                                <img src="{% static 'interest/writing.png' %}">
                                <img src="{% static 'interest/singing.png' %}">
                                <img src="{% static 'interest/riding.png' %}">
                                <img src="{% static 'interest/reading.png' %}">
                                <img src="{% static 'interest/gaming.png' %}">
                                <img src="{% static 'interest/cycle.png' %}">
                                <img src="{% static 'interest/football.png' %}">
                                <img src="{% static 'interest/swim.png' %}">
                                <img src="{% static 'interest/dance.png' %}">
                                <img src="{% static 'interest/hiking.png' %}">
                                <img src="{% static 'interest/art.png' %}">
                                <img src="{% static 'interest/writing.png' %}">
                                <img src="{% static 'interest/singing.png' %}">
                                <img src="{% static 'interest/riding.png' %}">
                                <img src="{% static 'interest/reading.png' %}">
                                <img src="{% static 'interest/gaming.png' %}">
                            </figure>
                        </div>
                    </div>

                    <!-- new post -->
                    {% include 'new_post.html' %}
<!--                    {%for post in posts%}-->
<!--                     {% for p in pu %}-->
<!--                        {% if p.id == post.author_id %}-->
<!--                            {{p.first_name}}{{p.last_name}}-->
<!--                            {{post.usercontent}}-->
<!--                    {% endif %}-->
<!--                    {% endfor %}-->
<!--                    {% endfor %}-->
                    <!-- posted contents -->
                    {%for post in posts%}
                        {% for p in pu %}
                            {% if p.id == post.author_id %}
                    <div class="c2">
                        <div style="overflow: hidden;">
                            <div class="c2-post">
                                <table>

                                    {% for bio in userdata %}
                                    {% if bio.owner_id == post.author_id %}
                                        {% if bio.profile_pic != '' %}
                                        <td class="posted-img"><img src="media/{{bio.profile_pic}}" height="40" width="50"></td>
                                        {% else %}
                                        <td class="posted-img"><img src="{% static 'img/defaultpp.jpg' %}"></td>
                                        {% endif %}
                                    {% endif %}
                                    {% endfor %}
                                    <td class="posted-name"><a href="">{{p.first_name}} {{p.last_name}}</a>
                                    </td>
                                    {% if post.emoji != '' %}
                                    <td>
                                        {{post.feeling}}
                                    </td>
                                    <td class="femoji">

                                        <img src='/static/{{post.emoji}}'>

                                    </td>
                                    {% endif %}
                                </table>
                            </div>
                            <div class="light" style="float: right; font-size: 15px; padding: 15px;">
                                {{post.created}}
                            </div>
                        </div>
                        <div class="caption">
                            {{post.usercontent}}
                        </div>
                        <div id="{{post.id}}" style="display:none">{{post.userfile}}</div>
                        <div class="postedimg" id="new{{post.id}}">
                            <video src="media/{{post.userfile}}" controls id='vid_spo{{post.id}}' width="100%" height="100%"></video>
                            <img src="media/{{post.userfile}}" id='img_spo{{post.id}}' onclick="document.getElementById('view-posted-photo{{post.id}}').style.display='block'">

                        </div>
                        <script>
                            var x=document.getElementById({{post.id}}).innerHTML;
                            console.log(x);

                            var pics = /.(jpeg|jpg|png)$/;
                            var vids = /.(mp4|wmv)/;


                            if (pics.test(x)){
                                document.getElementById('vid_spo{{post.id}}').style.display='none';
                            }
                            else if (vids.test(x)){
                                document.getElementById('img_spo{{post.id}}').style.display='none';
                            }
                            else{
                            document.getElementById('new{{post.id}}').style.display='none';
                            }


                        </script>
                        <div id="view-posted-photo{{post.id}}" class="view-posted-content">
                            <div class="modal-post">
                                <div class="modaltop">
                                    <div class="closebutton">
                                        <span onclick="document.getElementById('view-posted-photo{{post.id}}').style.display='none';">&times;</span>
                                    </div>
                                </div>
                                <div class="posted-content">
                                    <div class="posted-img-user">
                                        <img src="media/{{post.userfile}}" id='img_spo{{post.id}}'>
                                    </div>
                                    <div class="comment-section-user">
                                        <div>
                                            <table>
                                                <td class="posted-img"><img src="{% static 'img/defaultpp.jpg' %}"></td>
                                                <td class="posted-name"><a href="">{{p.first_name}} {{p.last_name}}</a>
                                                </td>
                                                {% if post.feeling is not None %}
                                                <td>
                                                    {{post.feeling}}
                                                </td>
                                                <td class="femoji">
                                                    <img src='/static/{{post.emoji}}'>
                                                </td>
                                                {% endif %}
                                            </table>
                                        </div>
                                        <div>
                                            <div class="joinin">
                                                <form>
                                                    <label for="like" class="i-l" id="like-i-{{post.id}}">
                                                        <span>120</span><img src="{% static 'icon/like-i.png' %}">
                                                    </label>
                                                    <label for="alike" class="a-l" id="like-a-{{post.id}}" style="display: none;">
                                                        <span>120</span><img src="{% static 'icon/like.png' %}">
                                                    </label>
                                                    <label for="dislike" class="i-d" id="dislike-i-{{post.id}}">
                                                        <span>22</span><img src="{% static 'icon/dislike-i.png' %}">
                                                    </label>
                                                    <label for="adislike" class="a-d" id="dislike-a-{{post.id}}" style="display: none;">
                                                        <span>22</span><img src="{% static 'icon/dislike.png' %}">
                                                    </label>
                                                    <label for="comment" class="i-c" id="comment-i-{{post.id}}">
                                                        <span>40</span><img src="{% static 'icon/comment-i.png' %}">
                                                    </label>
                                                    <label for="acomment" class="a-c" id="comment-a-{{post.id}}" style="display: none;">
                                                        <span>40</span><img src="{% static 'icon/comment.png' %}">
                                                    </label>
                                                    <label for="share" class="i-s" id="share-i-{{post.id}}">
                                                        <img src="{% static 'icon/share-i.png' %}">
                                                    </label>
                                                    <label for="ashare" class="a-s" id="share-a-{{post.id}}" style="display: none;">
                                                        <img src="{% static 'icon/share.png' %}">
                                                    </label>
                                                    <label for="saved" class="i-sa" id="saved-i-{{post.id}}">
                                                        <img src="{% static 'icon/saved-i.png' %}">
                                                    </label>
                                                    <label for="asaved" class="a-sa" id="saved-a-{{post.id}}" style="display: none;">
                                                        <img src="{% static 'icon/saved-a.png' %}">
                                                    </label>
                                                    <label for="flag" class="i-f" id="flag-i-{{post.id}}">
                                                        <img src="{% static 'icon/flag-i.png' %}">
                                                    </label>
                                                    <label for="aflag" class="a-f" id="flag-a-{{post.id}}" style="display: none;">
                                                        <img src="{% static 'icon/flag.png' %}">
                                                    </label>
                                                </form>
                                            </div>
                                            <div class="comment-section-show" id="c-section">
                                                <a>View all comments...</a>
                                                <label>
                                                    <input type="text" placeholder="Write comment...">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
        <div class="joinin">
                            <form>
                                <label for="like" class="i-l" id="like-i-{{post.id}}">
                                    <span>120</span><img src="{% static 'icon/like-i.png' %}">
                                </label>
                                <label for="alike" class="a-l" id="like-a-{{post.id}}" style="display: none;">
                                    <span>120</span><img src="{% static 'icon/like.png' %}">
                                </label>
                                <label for="dislike" class="i-d" id="dislike-i-{{post.id}}">
                                    <span>22</span><img src="{% static 'icon/dislike-i.png' %}">
                                </label>
                                <label for="adislike" class="a-d" id="dislike-a-{{post.id}}" style="display: none;">
                                    <span>22</span><img src="{% static 'icon/dislike.png' %}">
                                </label>
                                <label for="comment" class="i-c" id="comment-i-{{post.id}}">
                                    <span>40</span><img src="{% static 'icon/comment-i.png' %}">
                                </label>
                                <label for="acomment" class="a-c" id="comment-a-{{post.id}}" style="display: none;">
                                    <span>40</span><img src="{% static 'icon/comment.png' %}">
                                </label>
                                <label for="share" class="i-s" id="share-i-{{post.id}}">
                                    <img src="{% static 'icon/share-i.png' %}">
                                </label>
                                <label for="ashare" class="a-s" id="share-a-{{post.id}}" style="display: none;">
                                    <img src="{% static 'icon/share.png' %}">
                                </label>
                                <label for="saved" class="i-sa" id="saved-i-{{post.id}}">
                                    <img src="{% static 'icon/saved-i.png' %}">
                                </label>
                                <label for="asaved" class="a-sa" id="saved-a-{{post.id}}" style="display: none;">
                                    <img src="{% static 'icon/saved-a.png' %}">
                                </label>
                                <label for="flag" class="i-f" id="flag-i-{{post.id}}">
                                    <img src="{% static 'icon/flag-i.png' %}">
                                </label>
                                <label for="aflag" class="a-f" id="flag-a-{{post.id}}" style="display: none;">
                                    <img src="{% static 'icon/flag.png' %}">
                                </label>
                            </form>
                        </div>
                        <script>
                            // like
                            var like_b_i =  document.getElementById('like-i-{{post.id}}');
                            like_b_i.onclick = function()
                            {
                                document.getElementById('like-i-{{post.id}}').style.display='none';
                                document.getElementById('like-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('like-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                                document.getElementById('dislike-a-{{post.id}}').style.display='none';
                                document.getElementById('dislike-i-{{post.id}}').style.display='inline-block';
                            }
                            var like_b_a =  document.getElementById('like-a-{{post.id}}');
                            like_b_a.onclick = function()
                            {
                                document.getElementById('like-a-{{post.id}}').style.display='none';
                                document.getElementById('like-i-{{post.id}}').style.display='inline-block';
                            }

                            // dislike
                            var dislike_b_i =  document.getElementById('dislike-i-{{post.id}}');
                            dislike_b_i.onclick = function()
                            {
                                document.getElementById('dislike-i-{{post.id}}').style.display='none';
                                document.getElementById('dislike-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('dislike-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                                document.getElementById('like-a-{{post.id}}').style.display='none';
                                document.getElementById('like-i-{{post.id}}').style.display='inline-block';
                            }
                            var dislike_b_a =  document.getElementById('dislike-a-{{post.id}}');
                            dislike_b_a.onclick = function()
                            {
                                document.getElementById('dislike-a-{{post.id}}').style.display='none';
                                document.getElementById('dislike-i-{{post.id}}').style.display='inline-block';
                            }

                            // comment
                            var comment_b_i =  document.getElementById('comment-i-{{post.id}}');
                            comment_b_i.onclick = function()
                            {
                                document.getElementById('comment-i-{{post.id}}').style.display='none';
                                document.getElementById('comment-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('comment-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                            }
                            var comment_b_a =  document.getElementById('like-a-{{post.id}}');
                            comment_b_a.onclick = function()
                            {
                                document.getElementById('comment-a-{{post.id}}').style.display='none';
                                document.getElementById('comment-i-{{post.id}}').style.display='inline-block';
                            }

                            // share
                            var share_b_i =  document.getElementById('share-i-{{post.id}}');
                            share_b_i.onclick = function()
                            {
                                document.getElementById('share-i-{{post.id}}').style.display='none';
                                document.getElementById('share-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('share-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                            }
                            var share_b_a =  document.getElementById('share-a-{{post.id}}');
                            share_b_a.onclick = function()
                            {
                                document.getElementById('share-a-{{post.id}}').style.display='none';
                                document.getElementById('share-i-{{post.id}}').style.display='inline-block';
                            }

                            // saved
                            var saved_b_i =  document.getElementById('saved-i-{{post.id}}');
                            saved_b_i.onclick = function()
                            {
                                document.getElementById('saved-i-{{post.id}}').style.display='none';
                                document.getElementById('saved-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('saved-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                            }
                            var saved_b_a =  document.getElementById('saved-a-{{post.id}}');
                            saved_b_a.onclick = function()
                            {
                                document.getElementById('saved-a-{{post.id}}').style.display='none';
                                document.getElementById('saved-i-{{post.id}}').style.display='inline-block';
                            }

                            // flag
                            var flag_b_i =  document.getElementById('flag-i-{{post.id}}');
                            flag_b_i.onclick = function()
                            {
                                document.getElementById('flag-i-{{post.id}}').style.display='none';
                                document.getElementById('flag-a-{{post.id}}').style.display='inline-block';
                                document.getElementById('flag-a-{{post.id}}').style.background='rgb(226, 226, 226)';
                            }
                            var flag_b_a =  document.getElementById('like-a-{{post.id}}');
                            flag_b_a.onclick = function()
                            {
                                document.getElementById('like-a-{{flag.id}}').style.display='none';
                                document.getElementById('like-i-{{flag.id}}').style.display='inline-block';
                            }
                        </script>
                        <div class="comment-section" id="c-section">
                            <a href="">View all comments...</a>
                            <label>
                                <input type="text" placeholder="Write comment...">
                            </label>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                    {% endfor %}
                </div>

                <!-- 3rd div -->
                <div class="container3">
                    {% include '2_container.html' %}
                </div>
            </div>
        </div>

        <script src="{% static 'js/header.js' %}"></script>
        <script src="{% static 'js/newsfeed.js' %}"></script>
    </body>
</html>